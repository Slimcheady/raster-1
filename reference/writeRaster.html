<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write raster data to a file — writeRaster • raster</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write raster data to a file — writeRaster" />
<meta property="og:description" content="Write an entire Raster* object to a file, using one of the many supported formats. See writeValues for writing in chunks (e.g.  by row).
When writing a file to disk, the file format is determined by the 'format=' argument if supplied, or else by the file extension (if the extension is known). If other cases the default format is used. The default format is 'raster', but this setting can be changed (see rasterOptions)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raster</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.4-14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rspatial/raster/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write raster data to a file</h1>
    
    <div class="hidden name"><code>writeRaster.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write an entire Raster* object to a file, using one of the many supported formats. See <code><a href='writeValues.html'>writeValues</a></code> for writing in chunks (e.g.  by row).</p>
<p>When writing a file to disk, the file format is determined by the 'format=' argument if supplied, or else by the file extension (if the extension is known). If other cases the default format is used. The default format is 'raster', but this setting can be changed (see <code><a href='Options.html'>rasterOptions</a></code>).</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for RasterLayer,character</span>
<span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>filename</span>, <span class='va'>format</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for RasterStackBrick,character</span>
<span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>filename</span>, <span class='va'>format</span>, <span class='va'>bylayer</span>, suffix<span class='op'>=</span><span class='st'>'numbers'</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Raster* object</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>Output filename</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>Character. Output file type. See <code><a href='writeFormats.html'>writeFormats</a></code>. If this argument is not provided, it is attempted to infer it from the filename extension. If that fails, the default format is used. The default format is 'raster', but this can be changed using <code><a href='Options.html'>rasterOptions</a></code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments:</p>  		
<p><code>datatype</code>Character. Output data type (e.g. 'INT2S' or 'FLT4S'). 
See <code><a href='dataType.html'>dataType</a></code>. If no datatype is specified, 'FLT4S' is used,
unless this default value was changed with <code><a href='Options.html'>rasterOptions</a></code></p>	
<p><code>overwrite</code>: Logical. If TRUE, "filename" will be overwritten if it exists</p>	
<p><code>progress</code>: Character. Set a value to show a progress bar. Valid values are "text" and "window".</p>
<p><code>NAflag</code>: Numeric. To overwrite the default value used to represent <code>NA</code> in a file</p>	
<p><code>bandorder</code>: Character. 'BIL', 'BIP', or 'BSQ'. For 'native' file formats only.
For some other formats you can use the 'options' argument (see below)</p>	
<p><code>options</code>: Character. File format specific GDAL options. E.g., when
writing a geotiff file you can use: <code>options=c("COMPRESS=NONE", "TFW=YES")</code></p>
<p>You can use options=c("PROFILE=BASELINE") to create a plain  tif with no GeoTIFF tags. 
This can be useful when writing files to be read by applications intolerant of unrecognised tags.</p>
<p>NetCDF files have the following additional, optional, arguments: <code>varname</code>, <code>varunit</code>, <code>longname</code>, <code>xname</code>, <code>yname</code>, <code>zname</code>, <code>zunit</code></p>
<p><code>prj</code>: Logical. If <code>TRUE</code>, the crs is written to a .prj file. This can be useful 
when writing to an ascii file or another file type that does not store the crs</p>
<p><code>setStatistics</code>: logical. If <code>TRUE</code> (the default) the min and max cell values are written to file (if the format permits it)</p></td>
    </tr>
    <tr>
      <th>bylayer</th>
      <td><p>if <code>TRUE</code>, write a separate file for each layer. You can provide a vector of filenames that matches the number of layers. Or you can provide a single filename that will get a unique suffix (see below)</p></td>
    </tr>
    <tr>
      <th>suffix</th>
      <td><p>'numbers' or 'names' to determine the suffix that each file gets when <code>bylayer=TRUE</code>; either a number between <code>1</code> and <code><a href='nlayers.html'>nlayers(x)</a></code> or <code><a href='names.html'>names(x)</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>See <code>writeFormats</code> for supported file types ("formats", "drivers").</p>
<p>The rgdal package is needed, except for these file formats: 'raster', 'BIL', 'BIP', 'BSQ', 'SAGA', 'ascii', 'IDRISI', and 'CDF'. Some of these formats can be used with or without rgdal (idrisi, SAGA, ascii).  You need the 'ncdf4' library for the 'CDF' format.</p>
<p>In multi-layer files (i.e. files saved from RasterStack or RasterBrick objects), in the native 'raster' format, the band-order can be set to BIL ('Bands Interleaved by Line'), BIP ('Bands Interleaved by Pixels') or BSQ ('Bands SeQuential'). Note that bandorder is not the same as filetype here.</p>
<p>Supported file types include:</p>
<table class='table'>
<tr><td></td><td><b>File type</b></td><td><b>Long name</b></td><td><b>default extension</b></td><td><b>Multiband support</b></td></tr>
<tr><td></td><td><code>raster</code></td><td>'Native' raster package format</td><td>.grd</td><td>Yes</td></tr>
<tr><td></td><td><code>ascii</code></td><td>ESRI Ascii</td><td>.asc</td><td>No</td></tr>
<tr><td></td><td><code>SAGA</code></td><td>SAGA GIS</td><td>.sdat</td><td>No</td></tr>
<tr><td></td><td><code>IDRISI</code></td><td>IDRISI</td><td>.rst</td><td>No</td></tr>
<tr><td></td><td><code>CDF</code></td><td>netCDF (requires ncdf4)</td><td>.nc</td><td>Yes</td></tr>
<tr><td></td><td><code>GTiff</code></td><td>GeoTiff (requires rgdal)</td><td>.tif</td><td>Yes</td></tr>
<tr><td></td><td><code>ENVI</code></td><td>ENVI .hdr Labelled</td><td>.envi</td><td>Yes</td></tr>
<tr><td></td><td><code>EHdr</code></td><td>ESRI .hdr Labelled</td><td>.bil</td><td>Yes</td></tr>
<tr><td></td><td><code>HFA</code></td><td>Erdas Imagine Images (.img)</td><td>.img</td><td>Yes</td></tr>
</table>


    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function is used for the side-effect of writing values to a file.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='writeFormats.html'>writeFormats</a></code>, <code><a href='writeValues.html'>writeValues</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>tmp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'><a href='raster.html'>raster</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"external/test.grd"</span>, package<span class='op'>=</span><span class='st'>"raster"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># take a small part</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'><a href='crop.html'>crop</a></span><span class='op'>(</span><span class='va'>r</span>, <span class='fu'><a href='extent.html'>extent</a></span><span class='op'>(</span><span class='fl'>179880</span>, <span class='fl'>180800</span>, <span class='fl'>329880</span>, <span class='fl'>330840</span><span class='op'>)</span> <span class='op'>)</span>

<span class='co'># write to an integer binary file</span>
<span class='va'>rf</span> <span class='op'>&lt;-</span> <span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>r</span>, filename<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmp</span>, <span class='st'>"allint.grd"</span><span class='op'>)</span>, datatype<span class='op'>=</span><span class='st'>'INT4S'</span>, overwrite<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># make a brick and save multi-layer file</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fu'><a href='brick.html'>brick</a></span><span class='op'>(</span><span class='va'>r</span>, <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>bf</span> <span class='op'>&lt;-</span> <span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>b</span>, filename<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmp</span>, <span class='st'>"multi.grd"</span><span class='op'>)</span>, bandorder<span class='op'>=</span><span class='st'>'BIL'</span>, overwrite<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># write to a new geotiff file (depends on rgdal)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='http://rgdal.r-forge.r-project.org'>rgdal</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>rf</span> <span class='op'>&lt;-</span> <span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>r</span>, filename<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmp</span>, <span class='st'>"test.tif"</span><span class='op'>)</span>, format<span class='op'>=</span><span class='st'>"GTiff"</span>, overwrite<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='va'>bf</span> <span class='op'>&lt;-</span> <span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>b</span>, filename<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmp</span>, <span class='st'>"multi.tif"</span><span class='op'>)</span>, 
            options<span class='op'>=</span><span class='st'>"INTERLEAVE=BAND"</span>, overwrite<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>}</span>
 
<span class='co'># write to netcdf </span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='http://cirrus.ucsd.edu/~pierce/ncdf'>ncdf4</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>  
 <span class='va'>rnc</span> <span class='op'>&lt;-</span> <span class='fu'>writeRaster</span><span class='op'>(</span><span class='va'>r</span>, filename<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmp</span>, <span class='st'>"netCDF.nc"</span><span class='op'>)</span>, format<span class='op'>=</span><span class='st'>"CDF"</span>, overwrite<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>   
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: ncdf4</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


