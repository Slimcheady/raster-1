<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Project a Raster object — projectRaster • raster</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Project a Raster object — projectRaster" />
<meta property="og:description" content="Project the values of a Raster* object to a new Raster* object with another projection (coordinate reference system, (CRS)).
You can do this by providing the new projection as a single argument in which case the function sets the extent and resolution of the new object. To have more control over the transformation, and, for example, to assure that the new object lines up with other datasets, you can provide a Raster* object with the properties that the input data should be projected to.
projectExtent returns a RasterLayer with a projected extent, but without any values. This RasterLayer can then 
be adjusted (e.g. by setting its resolution) and used as a template 'to' in projectRaster." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raster</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.5-3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rspatial/raster/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Project a Raster object</h1>
    
    <div class="hidden name"><code>projectRaster.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Project the values of a Raster* object to a new Raster* object with another projection (coordinate reference system, (CRS)).</p>
<p>You can do this by providing the new projection as a single argument in which case the function sets the extent and resolution of the new object. To have more control over the transformation, and, for example, to assure that the new object lines up with other datasets, you can provide a Raster* object with the properties that the input data should be projected to.</p>
<p><code>projectExtent</code> returns a RasterLayer with a projected extent, but without any values. This RasterLayer can then 
be adjusted (e.g. by setting its resolution) and used as a template <code>'to'</code> in <code>projectRaster</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>from</span>, <span class='va'>to</span>, <span class='va'>res</span>, <span class='va'>crs</span>, method<span class='op'>=</span><span class='st'>"bilinear"</span>, 
             alignOnly<span class='op'>=</span><span class='cn'>FALSE</span>, over<span class='op'>=</span><span class='cn'>FALSE</span>, filename<span class='op'>=</span><span class='st'>""</span>, <span class='va'>...</span><span class='op'>)</span> 

<span class='fu'>projectExtent</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>crs</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>from</th>
      <td><p>Raster* object</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>Raster* object with the parameters to which 'from' should be projected</p></td>
    </tr>
    <tr>
      <th>res</th>
      <td><p>single or (vector of) two numerics. To, optionally, set the output resolution if 'to' is missing</p></td>
    </tr>
    <tr>
      <th>crs</th>
      <td><p>character or object of class 'CRS'. PROJ.4 description of the coordinate reference system. In projectRaster this is used to set the output CRS if 'to' is missing, or if 'to' has no valid CRS</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>method used to compute values for the new RasterLayer. Either 'ngb' (nearest neighbor), which is useful for categorical variables, or 'bilinear' (bilinear interpolation; the default value), which is appropriate for continuous variables.</p></td>
    </tr>
    <tr>
      <th>alignOnly</th>
      <td><p>logical. Use <code>to</code> or other parameters only to align the output (i.e. same origin and resolution), but use the projected extent from <code>from</code></p></td>
    </tr>
    <tr>
      <th>over</th>
      <td><p>logical. If <code>TRUE</code> wrapping around the date-line is turned off. This can be desirable for global data (to avoid mapping the same areas twice) but it is not desireable in other cases</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>character. Output filename</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments as for <code><a href='writeRaster.html'>writeRaster</a></code></p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>Raster* object</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If the resolution of the output is much larger than that of the input, you should first aggregate the input such that the resolution of the input becomes more similar (perhaps a little smaller) to the output.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are two approaches you can follow to project the values of a Raster object.</p>
<p>1) Provide a <code>crs</code> argument, and, optionally, a <code>res</code> argument, but do not provide a <code>to</code> argument.</p>
<p>2) Create a template Raster with the CRS you want to project to. You can use an existing object, or use <code>projectExtent</code> for this or an existing Raster* object. Also set the number of rows and columns (or the resolution), and perhaps adjust the extent. The resolution of the output raster should normally be similar to that of the input raster. Then use that object as <code>from</code> argument to project the input Raster to. 
This is the preferred method because you have most control. For example you can assure that the resulting Raster object lines up with other Raster objects.</p>
<p>Projection is performed using the PROJ.4 library accessed through the rgdal package.</p>

<p>Also see <code><a href='http://rgdal.r-forge.r-project.org/reference/projInfo.html'>projInfo('proj')</a></code>, <code><a href='http://rgdal.r-forge.r-project.org/reference/projInfo.html'>projInfo('ellps')</a></code>, and <code><a href='http://rgdal.r-forge.r-project.org/reference/projInfo.html'>projInfo('datum')</a></code> for valid PROJ.4 values.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>User beware. Sadly, the PROJ.4 notation has been partly deprecated in the GDAL/PROJ library that is used by this function. You can still use it, but *only* with the the WGS84 datum. Other datums are silently ignored.</p>
<p>When printing a Spat* object the PROJ.4 notation is shown because it is the most concise and clear format available. However, internally a WKT representation is used (see <code><a href='projection.html'>crs</a></code>).</p>
<p>Vector (points, lines, polygons) can be transformed with <code><a href='https://rdrr.io/pkg/sp/man/spTransform.html'>spTransform</a></code>.</p>
<p><code>projectExtent</code> does not work very well when transforming projected circumpolar data to (e.g.) longitude/latitude. 
With such data you may need to adjust the returned object. E.g. do <code>ymax(object) &lt;- 90</code></p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>RasterLayer or RasterBrick object.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Robert J. Hijmans and Joe Cheng</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='resample.html'>resample</a></code>, <code><a href='http://rgdal.r-forge.r-project.org/reference/CRS-class.html'>CRS-class</a></code>, <code><a href='http://rgdal.r-forge.r-project.org/reference/projInfo.html'>projInfo</a></code>, <code><a href='https://rdrr.io/pkg/sp/man/spTransform.html'>spTransform</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create a new (not projected) RasterLayer with cellnumbers as values</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'><a href='raster.html'>raster</a></span><span class='op'>(</span>xmn<span class='op'>=</span><span class='op'>-</span><span class='fl'>110</span>, xmx<span class='op'>=</span><span class='op'>-</span><span class='fl'>90</span>, ymn<span class='op'>=</span><span class='fl'>40</span>, ymx<span class='op'>=</span><span class='fl'>60</span>, ncols<span class='op'>=</span><span class='fl'>40</span>, nrows<span class='op'>=</span><span class='fl'>40</span><span class='op'>)</span>
<span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'><a href='setValues.html'>setValues</a></span><span class='op'>(</span><span class='va'>r</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='ncell.html'>ncell</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='projection.html'>crs</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CRS arguments: +proj=longlat +datum=WGS84 +no_defs </div><div class='input'><span class='co'># wkt(r)</span>
<span class='co'># proj.4 projection description</span>
<span class='va'>newproj</span> <span class='op'>&lt;-</span> <span class='st'>"+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +datum=WGS84"</span>

<span class='co'># we need the rgdal package for this</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='http://rgdal.r-forge.r-project.org'>rgdal</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'>#simplest approach</span>
<span class='va'>pr1</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>r</span>, crs<span class='op'>=</span><span class='va'>newproj</span><span class='op'>)</span>

<span class='co'># alternatively also set the resolution</span>
<span class='va'>pr2</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>r</span>, crs<span class='op'>=</span><span class='va'>newproj</span>, res<span class='op'>=</span><span class='fl'>20000</span><span class='op'>)</span>

<span class='co'># inverse projection, back to the properties of 'r'</span>
<span class='va'>inv</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>pr2</span>, <span class='va'>r</span><span class='op'>)</span>

<span class='co'># to have more control, provide an existing Raster object, here we create one</span>
<span class='co'># using projectExtent (no values are transferred)</span>
<span class='va'>pr3</span> <span class='op'>&lt;-</span> <span class='fu'>projectExtent</span><span class='op'>(</span><span class='va'>r</span>, <span class='va'>newproj</span><span class='op'>)</span>
<span class='co'># Adjust the cell size </span>
<span class='fu'><a href='resolution.html'>res</a></span><span class='op'>(</span><span class='va'>pr3</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>200000</span>
<span class='co'># now project</span>
<span class='va'>pr3</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>r</span>, <span class='va'>pr3</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># using a higher resolution</span>
<span class='fu'><a href='resolution.html'>res</a></span><span class='op'>(</span><span class='va'>pr1</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>10000</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>r</span>, <span class='va'>pr1</span>, method<span class='op'>=</span><span class='st'>'bilinear'</span><span class='op'>)</span>
<span class='va'>inv</span> <span class='op'>&lt;-</span> <span class='fu'>projectRaster</span><span class='op'>(</span><span class='va'>pr</span>, <span class='va'>r</span>, method<span class='op'>=</span><span class='st'>'bilinear'</span><span class='op'>)</span>
<span class='va'>dif</span> <span class='op'>&lt;-</span> <span class='va'>r</span> <span class='op'>-</span> <span class='va'>inv</span>
<span class='co'># small difference</span>
<span class='fu'><a href='plot.html'>plot</a></span><span class='op'>(</span><span class='va'>dif</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


